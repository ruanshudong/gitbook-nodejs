(function(e){function t(t){for(var n,a,i=t[0],l=t[1],u=t[2],h=0,d=[];h<i.length;h++)a=i[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={index:0},s=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("a026"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("el-container",[r("router-view",{staticStyle:{height:"100%"}})],1)],1)},s=[],a={name:"Main",data(){return{}},methods:{checkLogin(){this.$ajax.getJSON("/sso/isLogin").then(e=>{e.login||(location.hash=e.hash)}).catch(e=>{location.hash="/login"})}},created(){this.checkLogin()},mounted(){}},i=a,l=r("2877"),u=Object(l["a"])(i,o,s,!1,null,null,null),c=u.exports,h=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticStyle:{height:"500px"}},[r("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"300px"}},[r("div",[r("el-tree",{attrs:{data:e.treeData,props:e.defaultProps},on:{"node-click":e.selectTree}})],1)]),r("el-container",[r("el-main",[r("router-view")],1)],1)],1)},f=[],p={name:"Index",data(){return{treeErrMsg:"load failed",treeData:[],treeSearchKey:"",page:"README.md",isIconPlay:!1,defaultProps:{children:"children",label:"label"}}},methods:{iconLoading(){const e=this;e.isIconPlay||(e.isIconPlay=!0,setTimeout((function(){e.isIconPlay=!1}),1e3))},treeSearch(e){this.iconLoading(),this.getTreeData(this.treeSearchKey,e)},selectTree(e){e.href&&this.$router.push("/"+e.href)},handleData(e){e&&e.length&&e.forEach(e=>{e.label=e.name,e.nodeKey=e.id,this.treeSearchKey&&(e.expand=!0),e.children&&e.children.length&&this.handleData(e.children)})},getTreeData(e,t){this.treeData=[],this.$ajax.getJSON("/api/tree",{searchKey:e||"",type:t}).then(e=>{document.title=e.title,this.treeData=e.tree,this.handleData(this.treeData),this.selectTree({href:""})}).catch(e=>{this.treeErrMsg=e.err_msg||e.message||"load failed",this.treeData=[]})}},created(){},mounted(){this.getTreeData("",0)}},g=p,m=Object(l["a"])(g,d,f,!1,null,null,null),b=m.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{domProps:{innerHTML:e._s(e.html)}})},y=[],v={name:"Page",data(){return{html:""}},methods:{fetchData(){let e=location.hash;this.$ajax.getJSON("/api/view",{page:e}).then(e=>{this.html=e.data}).catch(e=>{})}},watch:{$route:"fetchData"},created(){this.fetchData()},mounted(){}},x=v,O=(r("b9ee"),Object(l["a"])(x,w,y,!1,null,null,null)),j=O.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{directives:[{name:"show",rawName:"v-show",value:e.showLogin,expression:"showLogin"}],staticClass:"box-card"},[r("h1",[e._v(e._s(e.msg)+"登录优品文档")]),r("el-form",{ref:"ruleFormLogin",attrs:{"label-width":"0",model:e.ruleFormLogin,rules:e.rules}},[r("el-form-item",{attrs:{prop:"uid"}},[r("el-input",{attrs:{placeholder:"邮箱","prefix-icon":"el-icon-user"},model:{value:e.ruleFormLogin.uid,callback:function(t){e.$set(e.ruleFormLogin,"uid",t)},expression:"ruleFormLogin.uid"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:"密码","show-password":"","prefix-icon":"el-icon-key"},model:{value:e.ruleFormLogin.password,callback:function(t){e.$set(e.ruleFormLogin,"password",t)},expression:"ruleFormLogin.password"}})],1),r("el-button",{attrs:{size:"small",round:""},on:{click:e.show_registry}},[e._v("注 册")]),r("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:e.login}},[e._v("登 录")])],1)],1),r("el-card",{directives:[{name:"show",rawName:"v-show",value:e.showRegistry,expression:"showRegistry"}],staticClass:"box-card"},[r("h1",[e._v(e._s(e.msg)+"注册为新用户")]),r("el-form",{ref:"ruleForm",attrs:{"label-width":"80px",model:e.ruleForm,"label-position":"left",rules:e.rules}},[r("el-form-item",{attrs:{label:"邮箱",prop:"uid"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.uid,callback:function(t){e.$set(e.ruleForm,"uid",t)},expression:"ruleForm.uid"}})],1),r("el-form-item",{attrs:{label:"设置密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"长度在 6 到 16 个字符","show-password":""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"重复密码",prop:"checkPass"}},[r("el-input",{attrs:{placeholder:"请重复输入密码","show-password":""},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),r("el-button",{attrs:{size:"small",round:""},on:{click:e.show_login}},[e._v("返 回")]),r("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:e.registry}},[e._v("提 交")])],1)],1)],1)},_=[],P={name:"Login",data(){var e=(e,t,r)=>{""===t?r(new Error("请再次输入密码")):t!==this.ruleForm.password?r(new Error("两次输入密码不一致!")):r()};return{msg:"欢迎",ruleFormLogin:{uid:"",password:""},ruleForm:{uid:"",password:"",checkPass:""},showLogin:1,showRegistry:0,rules:{uid:[{required:!0,message:"请输入邮箱",trigger:"blur"},{min:4,max:16,message:"账号长度在4到16个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"密码长度在6到16个字符",trigger:"blur"}],uid:[{required:!0,message:"请输入邮箱",trigger:"blur"},{min:4,max:16,message:"长度在4到16个字符",trigger:"blur"}],password:[{required:!0,message:"请设置密码",trigger:"blur"},{min:6,max:16,message:"长度在6到16个字符",trigger:"blur"}],checkPass:[{validator:e,trigger:"blur"}]}}},methods:{login:function(){this.$refs["ruleFormLogin"].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.$axios.post("/login",{userName:this.ruleFormLogin.uid,passWord:this.ruleFormLogin.password}).then(e=>{1==e.data.isLogin?(window.location="/",this.$message({message:"登录成功",type:"success"})):this.$message({message:"用户名或密码错误，请重新输入",type:"warning"})})})},show_registry:function(){this.showRegistry=1,this.showLogin=0},show_login:function(){this.showRegistry=0,this.showLogin=1},registry:function(){this.$refs["ruleForm"].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.$ajax.portJSON("/api/register",{userName:this.ruleForm.uid,passWord:this.ruleForm.password}),this.$message({message:"恭喜你，验证邮件已经发送到邮箱，请激活后登录",type:"success"})})}}},F=P,L=(r("d41b"),Object(l["a"])(F,S,_,!1,null,"4d9d6fb0",null)),k=L.exports;const $=h["a"].prototype.push;h["a"].prototype.push=function(e){return $.call(this,e).catch(e=>e)},n["default"].use(h["a"]);var E=new h["a"]({routes:[{path:"/login",name:"Login",component:k},{path:"/",name:"Index",component:b,children:[{path:"*",component:j}]},{path:"*",redirect:"/"}],scrollBehavior(e,t,r){return{x:0,y:0}}}),T=r("5c96"),D=r.n(T);r("0fae"),r("6d93");const N=e=>"string"===typeof e,M=Array.isArray,J=e=>"object"===typeof e&&null!==e,R=e=>"function"===typeof e,C=Object.assign;function I(e){return String(e).replace(/[^!'()~*\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}]/gu,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~*]/g,e=>"%"+e.charCodeAt().toString(16).slice(-2).toUpperCase())}function q(e){if(!e)return"";const t=[];return Object.keys(e).forEach(r=>{let n=e[r];null!==n&&void 0!==n||(n=""),t.push(`${I(r)}=${I(n)}`)}),t.join("&").replace(/%20/g,"+")}function H(e){const t=(e,r,n)=>M(n)||J(n)?(Object.keys(n).forEach(o=>{t(e,`${r}[${o}]`,n[o])}),e):(e[r]=n,e);return q(Object.keys(e).reduce((r,n)=>t(r,n,e[n]),{}))}class A{constructor(e){this.defaults=e}get(e){return C({},this.defaults,e)}set(e,t){if(e){if(N(e)){const r=e.split(".");r.reduce((e,n,o)=>(o===r.length-1&&(e[n]=t),e[n]),this.defaults)}J(e)&&Object.keys(e).forEach(t=>{this.set(t,e[t])}),M(e)&&e.forEach(e=>this.set(e,t))}}remove(e){if(e){if(N(e)){const t=e.split(".");t.reduce((e,r,n)=>(n===t.length-1&&delete e[r],e[r]),this.defaults)}M(e)&&e.forEach(e=>this.remove(e))}}}class K{constructor(e){this.handler=e}set(e){R(e)&&(this.handler=e)}exec(){R(this.handler)&&this.handler.apply(null,arguments)}}class U{constructor(e){this.base=e||""}set(e){N(e)&&(this.base=e)}get(e){return this.base+(e||"")}}const z=new U,W=new A({credentials:"same-origin",timeout:5e3}),B=new A({"X-Requested-With":"XMLHttpRequest"}),X=new A({}),G=new K,Q=new K(()=>!0);function V(e,t){let r=q(X.get(t));return r&&(r=-1===e.indexOf("?")?"?"+r:"&"+r),e+r}function Y(e){const t=e.status;if(t>=200&&t<300||304===t)return e;throw G.exec(t,e),new Error(e.statusText)}function Z(e){return e.json().then(null,t=>(G.exec(500,e),Promise.reject(t)))}function ee(e){return Q.handler(e)?e:Promise.reject(e)}function te(e){return Promise.reject(e)}function re(e,t){const r=W.get({headers:B.get()});return fetch(z.get(V(e,t)),r).then(Y).then(Z).catch(te)}function ne(e,t){const r=W.get({headers:B.get()});return fetch(z.get(V(e,t)),r).then(Y).then(Z).then(ee).catch(te)}function oe(e,t){const r=W.get({method:"POST",headers:B.get({"Content-Type":"application/x-www-form-urlencoded"}),body:H(X.get(t))});return fetch(z.get(e),r).then(Y).then(Z).then(ee).catch(te)}function se(e,t){const r=W.get({method:"POST",headers:B.get(),body:t}),n=X.get({});return Object.keys(n).forEach(e=>{t.append(e,n[e])}),fetch(z.get(e),r).then(Y).then(Z).then(ee).catch(te)}function ae(e,t){const r=W.get({method:"POST",headers:B.get({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(X.get(t))});return fetch(z.get(e),r).then(Y).then(Z).then(ee).catch(te)}function ie(e,t){const r=W.get({method:"PUT",headers:B.get({"Content-Type":"application/x-www-form-urlencoded"}),body:H(X.get(t))});return fetch(z.get(e),r).then(Y).then(Z).then(ee).catch(te)}function le(e,t){const r=W.get({method:"DELETE",headers:B.get()});return fetch(z.get(V(e,t)),r).then(Y).then(Z).then(ee).catch(te)}function ue(e,t){window.open(z.get(V(e,t)))}var ce={ServerUrl:z,Options:W,Headers:B,Body:X,StatusHandler:G,ResultHandler:Q,get:re,getJSON:ne,post:oe,postForm:se,postJSON:ae,put:ie,remove:le,download:ue};ce.ServerUrl.set("/pages"),ce.ResultHandler.set(e=>!(!e||200!==e.ret_code||null==e.data)),["getJSON","postJSON"].forEach(e=>{const t=ce[e];ce["_"+e]=t,ce[e]=(...e)=>t.call(null,...e).then(e=>e.data)}),Object.defineProperty(n["default"].prototype,"$ajax",{get(){return ce}});var he=r("28dd"),de=r("a925"),fe=r("00e7"),pe=r.n(fe);n["default"].use(de["a"]),n["default"].use(pe.a);const ge=new de["a"]({});var me=[];function be(){return new Promise((e,t)=>{ce.getJSON("/api/get_locale").then(t=>{let r=pe.a.get("locale");if("[object Object]"==Object.prototype.toString.call(t)){for(var n in t)ge.setLocaleMessage(n,t[n]),me.push({localeCode:n,localeName:t[n]["localeName"],localeMessages:t});r=t[r]?r:"cn",me=t}ge.locale=r,e()}).catch(e=>{t(e)})})}n["default"].config.productionTip=!1,n["default"].use(he["a"]),be.call(void 0).then(()=>{n["default"].use(D.a,{i18n:(e,t)=>ge.t(e,t)}),new n["default"]({i18n:ge,el:"#app",router:E,components:{Main:c},template:"<Main/>"})})},6226:function(e,t,r){},b9ee:function(e,t,r){"use strict";r("6226")},d41b:function(e,t,r){"use strict";r("e853")},e853:function(e,t,r){}});